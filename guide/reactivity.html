  
  <!DOCTYPE html>
  <html lang="en">
  <head>
    <base href="https://erickpetru.github.io/br.vuejs.org/">
    <title>Reatividada em Profundidade - vue.js</title>
    <meta charset="utf-8">
    <meta name="description" content="Vue.js - Intuitive, Fast and Composable MVVM for building interactive interfaces.">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Dosis:500&text=Vue.js' rel='stylesheet' type='text/css'>
    <link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel='stylesheet' type='text/css'>
    <link rel="icon" href="images/logo.png" type="image/x-icon">
    <script>
        window.PAGE_TYPE = "guide"
    </script>
    <link rel="stylesheet" href="/br.vuejs.org/css/page.css">
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46852172-1', 'erickpetru.github.io/br.vuejs.org');
  ga('send', 'pageview');
</script>
    <script src="js/vue.js"></script>
</head>
<body class="docs">  <div id="mobile-bar" >
    <a class="menu-button"></a>
    <a class="logo" href=""></a>
  </div>
  <div id="header">
  <a id="logo" href="">
    <img src="images/logo.png">
    <span>Vue.js</span>
  </a>
  <ul id="nav">
    <li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input">
  </form>
</li>
<li><a href="guide/" class="nav-link current">Guia</a></li>
<li><a href="api/" class="nav-link">API</a></li>
<li><a href="examples/" class="nav-link">Exemplos</a></li>
<li><a href="https://medium.com/the-vue-point" target="_blank" class="nav-link">Blog</a></li>
<li class="nav-dropdown-container">
  <a class="nav-link">Comunidade</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://github.com/vuejs/vue" class="nav-link" target="_blank">GitHub</a></li>
    <li><a href="http://forum.vuejs.org" class="nav-link" target="_blank">Forum</a></li>
    <li><a href="https://gitter.im/vuejs/vue" class="nav-link" target="_blank">Chat</a></li>
    <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
  </ul>
</li>


  </ul>
</div>

  
  <div id="main" class="fix-sidebar">
      
          
    <div class="sidebar">
    <ul class="main-menu">
        <li>
  <form id="search-form">
    <input type="text" id="search-query-sidebar" class="search-query st-default-search-input">
  </form>
</li>
<li><a href="guide/" class="nav-link current">Guia</a></li>
<li><a href="api/" class="nav-link">API</a></li>
<li><a href="examples/" class="nav-link">Exemplos</a></li>
<li><a href="https://medium.com/the-vue-point" target="_blank" class="nav-link">Blog</a></li>
<li class="nav-dropdown-container">
  <a class="nav-link">Comunidade</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://github.com/vuejs/vue" class="nav-link" target="_blank">GitHub</a></li>
    <li><a href="http://forum.vuejs.org" class="nav-link" target="_blank">Forum</a></li>
    <li><a href="https://gitter.im/vuejs/vue" class="nav-link" target="_blank">Chat</a></li>
    <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
  </ul>
</li>


    </ul>
    <div class="list">
        <div id="donate" style="margin-bottom: 20px">
            <span class="wrapper" style="width: 110px">
              <img src="images/patreon.png">
              <a href="support-vuejs">Ajude o Vue.js</a>
            </span>
        </div>
        <h2>
            Guia
            <select class="version-select">
                <option value="SELF" selected>2.0</option>
                <option value="v1">1.0</option>
                <option value="012">0.12</option>
                <option value="011">0.11</option>
            </select>
        </h2>
        <ul class="menu-root">
            
                
                
                  <li><h3>Essenciais</h3></li>
                
                
                
                
                <li>
                    <a href="guide/installation.html" class="sidebar-link">Instalação</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/index.html" class="sidebar-link">Introdução</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/instance.html" class="sidebar-link">A Instância Vue</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/syntax.html" class="sidebar-link">Template Syntax</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/computed.html" class="sidebar-link">Propriedades Computadas e Observadores</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/class-and-style.html" class="sidebar-link">Bindings Class e Style</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/conditional.html" class="sidebar-link">Renderização Condicional</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/list.html" class="sidebar-link">Renderização de Listas</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/events.html" class="sidebar-link">Manipulação de Eventos</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/forms.html" class="sidebar-link">Input Bindings em Formulários</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/components.html" class="sidebar-link">Componentes</a>
                </li>
            
                
                
                
                  <li><h3>Avançado</h3></li>
                
                
                
                <li>
                    <a href="guide/transitions.html" class="sidebar-link">Efeitos de Transição</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/transitioning-state.html" class="sidebar-link">Transitioning State</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/render-function.html" class="sidebar-link">Funções "render" (Renderização)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/reactivity.html" class="sidebar-link current">Reatividada em Profundidade</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/custom-directive.html" class="sidebar-link">Diretivas Personalizadas</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/mixins.html" class="sidebar-link">Mixins</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/plugins.html" class="sidebar-link">Plugins</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/single-file-components.html" class="sidebar-link">Componentes Single-File</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/deployment.html" class="sidebar-link">Publicando em Produção</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/routing.html" class="sidebar-link">Routing</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/state-management.html" class="sidebar-link">Gerenciamento de Estado</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/unit-testing.html" class="sidebar-link">Unit Testing</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/ssr.html" class="sidebar-link">Renderização Server-Side</a>
                </li>
            
                
                
                
                
                  <li><h3>Migração</h3></li>
                
                
                <li>
                    <a href="guide/migration.html" class="sidebar-link">Migration from Vue 1.x</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/migration-vue-router.html" class="sidebar-link">Migração do Vue Router 0.7.x</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/migration-vuex.html" class="sidebar-link">Migração do Vuex 0.6.x para 1.0</a>
                </li>
            
                
                
                
                
                
                  <li><h3>Diversos</h3></li>
                
                <li>
                    <a href="guide/comparison.html" class="sidebar-link">Comparação com Outros Frameworks</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="guide/join.html" class="sidebar-link">Join the Vue.js Community!</a>
                </li>
            
        </ul>
    </div>
</div>


<div class="content guide with-sidebar reactivity-guide">
    
      <div id="ad">
  <span>Sponsored By</span><br>
  <a href="http://www.thedifferenceengine.io/" target="_blank"
    style="background-color: rgba(0,0,0,.85); padding: 10px 0">
    <img src="images/tde.png">
  </a>
  <!-- <script async type="text/javascript" src="https://"cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=vuejs" id="_carbonads_js"></script> -->
</div>

    
    
      <h1>Reatividada em Profundidade</h1>
    
    <p>Cobrimos a maioria das noções básicas - agora é hora de dar um mergulho profundo! Uma das características mais distintas do Vue é o sistema de reatividade não obstrutivo. Modelos são simplesmente objetos JavaScript. Quando você os modifica, a exibição é visualização é atualizada. Isso torna o gerenciamento de estado muito simples e intuitivo, mas também é importante entender como isso funciona para evitar algumas armadilhas comuns. Nesta seção, vamos cavar alguns dos detalhes de baixo nível do sistema de reatividade do Vue.</p>
<h2 id="Como-as-Altercoes-sao-Monitoradas"><a href="#Como-as-Altercoes-sao-Monitoradas" class="headerlink" title="Como as Alterções são Monitoradas"></a>Como as Alterções são Monitoradas</h2><p>Quando você passar um objeto JavaScript simples para uma instância do Vue, como a opção <code>data</code>, o Vue irá percorrer todas as suas propriedades e convertê-las para getter/setters usando <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="external">Object.defineProperty</a>. Esta é uma característica un-shimmable encontrada somente a partir do ES5, razão pela qual o Vue não suporta o IE8 e versões anteriores.</p>
<p>Os getter/setters são invisíveis para o usuário, mas debaixo do capô, eles permitem ao Vue executar o rastreamento de dependência e notificações de alteração quando propriedades são acessadas ou modificadas. Uma ressalva é que consoles de browsers formatam getter/setters diferentemente quando alteram objetos de dados, então você pode querer instalar o [vue-devtools] (<a href="https://github.com/vuejs/vue-devtools" target="_blank" rel="external">https://github.com/vuejs/vue-devtools</a>)  para uma ter interface mais amigável para inspeção.</p>
<p>Cada instância de componente tem um observador de instância, <strong>watcher</strong>, correspondente, que registra todas as propriedades “tocadas” durante a renderização do componente e depedências. Mais tarde, quando o setter de uma dependência é acionado, ele notifica o watcher que então faz com que o componente seja re-renderizado.</p>
<p><img src="images/data.png" alt="Reactivity Cycle"></p>
<h2 id="Resalva-sobre-a-deteccao-de-alteracoes"><a href="#Resalva-sobre-a-deteccao-de-alteracoes" class="headerlink" title="Resalva sobre a detecção de alterações"></a>Resalva sobre a detecção de alterações</h2><p>Devido às limitações do JavaScript moderno (e ao abandono do <code>Object.observe</code>), o Vue <strong>não pode detectar adicão ou exclusão</strong>. O Vue executa o processo de conversão de getter/setter na inicialização da instância; uma propriedade deve estar presente no objeto <code>data</code> nesse momento para que o Vue faça sua conversão e o torne reativo. Por exemplo:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="attr">a</span>: <span class="number">1</span></div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line"><span class="comment">// `vm.a` is now reactive</span></div><div class="line"></div><div class="line">vm.b = <span class="number">2</span></div><div class="line"><span class="comment">// `vm.b` is NOT reactive</span></div></pre></td></tr></table></figure>
<p>O Vue não permite adicionar dinamicamente novas propriedades reativas para uma instância já criada. No entanto, é possível adicionar propriedades reativas a um objeto utilizando o método <code>Vue.set(object, key, value)</code>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.set(vm.someObject, <span class="string">'b'</span>, <span class="number">2</span>)</div></pre></td></tr></table></figure>
<p>Você pode também usar o método de instância <code>vm.$set</code> que é simplesmente um atalho para o método global <code>Vue.set</code>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">this</span>.$set(<span class="keyword">this</span>.someObject, <span class="string">'b'</span>, <span class="number">2</span>)</div></pre></td></tr></table></figure>
<p>Às vezes você pode querer atribuir uma série de propriedades a um objeto existente, por exemplo, usando <code>Object.assign()</code> ou <code>_.extend()</code>. No entanto, novas propriedades adicionadas ao objeto não acionaram mudanças. Em tais casos, crie um novo objeto com as propriedades do objeto original e junte a um objeto vazio:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// ao invés de `Object.assign(this.someObject, &#123; a: 1, b: 2 &#125;)`</span></div><div class="line"><span class="keyword">this</span>.someObject = <span class="built_in">Object</span>.assign(&#123;&#125;, <span class="keyword">this</span>.someObject, &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;)</div></pre></td></tr></table></figure>
<p>Existem também algumas ressalvas relacionadas com arrays, que foram discutidas anteriormente na <a href="/guide/list.html#Caveats">seçao sobre renderização de listas</a>.</p>
<h2 id="Declarando-Propriedades-Reativas"><a href="#Declarando-Propriedades-Reativas" class="headerlink" title="Declarando Propriedades Reativas"></a>Declarando Propriedades Reativas</h2><p>Como o Vue não permite adicionar dinamicamente Propriedades reativas de nível root, isso significa que você tem inicializar a instância declarando todas as propriedades de nível root com dados iniciais, apenas um valor vazio:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="comment">// declare message with an empty value</span></div><div class="line">    message: <span class="string">''</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">template</span>: <span class="string">'&lt;div&gt;&#123;&#123; message &#125;&#125;&lt;/div&gt;'</span></div><div class="line">&#125;)</div><div class="line"><span class="comment">// set `message` later</span></div><div class="line">vm.message = <span class="string">'Hello!'</span></div></pre></td></tr></table></figure>
<p>Se a propriedade <code>message</code> não for declarada em <code>data</code>, o Vue irá avisar que a função de renderização está tentando acessar uma propriedade que não existe.</p>
<p>Há razões técnicas por trás dessa restrição - it eliminates a class of edge cases in the dependency tracking system, and also makes Vue instances play nicer with type checking systems. Mas há também uma consideração importante em termos de capacidade de manutenção do código: O objeto <code>data</code> é como o esquema para o estado do seu componente. Declarar todas as propriedades reativas antecipadamente faz o código do componente mais fácil de entender quando revisitado posteriormente ou lido por outro desenvolvedor.</p>
<h2 id="Fila-de-atualizacao-assincrona"><a href="#Fila-de-atualizacao-assincrona" class="headerlink" title="Fila de atualização assíncrona"></a>Fila de atualização assíncrona</h2><p>Caso você não tenha notado ainda, o Vue executa atualizações de DOM <strong>assincronamente</strong>. Sempre que uma alteração de dados é observada, serão abertos uma fila e o buffer de todas as alterações de dados que acontecem no mesmo event loop. Se o mesmo observador é acionado várias vezes, ele será empurrado na fila de uma só vez. Esta ação é importante para evitar cálculos e manipulações do DOM desnecessários. Então, no próximo ciclo de eventos “tick”, o Vue libera a fila e executa o trabalho atual. Internamente, Vue tenta utilizar os nativos <code>Promise.then</code> e <code>MutationObserver</code> para o enfileiramento de mensagens assíncronas e volta para <code>setTimeout (fn, 0)</code>.</p>
<p>Por exemplo, quando você define <code>vm.someData = &#39;new value&#39;</code>, o componente não será renderizado imediatamente. Ele será atualizado no próximo “tick”, quando a file for liberada. Na maioria das vezes não precisamos nos preocupar com isso, mas a situação pode se complicar quando você quer fazer algo que depende do estado do DOM pós-atualização. Embora o Vue.js geralmente encoraje os desenvolvedores a pensar de uma forma de “data-driven” e evitar tocar o DOM diretamente, às vezes pode ser necessário sujar as mãos. Para aguardar até que o Vue.js tenha terminado de atualizar o DOM após uma alteração de dados, você pode usar o <code>Vue.nextTick(callback)</code> imediatamente após a alteração dos dados. A função callback será chamada após o DOM ser atualizado. Por exemplo:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">el</span>: <span class="string">'#example'</span>,</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="attr">message</span>: <span class="string">'123'</span></div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line">vm.message = <span class="string">'new message'</span> <span class="comment">// change data</span></div><div class="line">vm.$el.textContent === <span class="string">'new message'</span> <span class="comment">// false</span></div><div class="line">Vue.nextTick(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  vm.$el.textContent === <span class="string">'new message'</span> <span class="comment">// true</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Há também o método de instância de <code>vm.$nextTick()</code>, que é especialmente útil no interior de componentes, porque não precisa da variável global <code>Vue</code> e o contexto do <code>this</code> do seu callback será automaticamente ligado à instância atual do Vue:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'example'</span>, &#123;</div><div class="line">  <span class="attr">template</span>: <span class="string">'&lt;span&gt;&#123;&#123; message &#125;&#125;&lt;/span&gt;'</span>,</div><div class="line">  <span class="attr">data</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      <span class="attr">message</span>: <span class="string">'not updated'</span></div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">methods</span>: &#123;</div><div class="line">    <span class="attr">updateMessage</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">this</span>.message = <span class="string">'updated'</span></div><div class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.$el.textContent) <span class="comment">// =&gt; 'not updated'</span></div><div class="line">      <span class="keyword">this</span>.$nextTick(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.$el.textContent) <span class="comment">// =&gt; 'updated'</span></div><div class="line">      &#125;)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>

    
      <div class="guide-links">
        
          <span>← <a href="/br.vuejs.org/guide/render-function.html">Funções "render" (Renderização)</a></span>
        
        
          <span style="float:right"><a href="/br.vuejs.org/guide/custom-directive.html">Diretivas Personalizadas</a> →</span>
        
      </div>
    
    <div class="footer">
      Encontrou um problema ou quer contribuir com a documentação?
      <a href="https://github.com/vuejs-br/br.vuejs.org/blob/master/src/guide/reactivity.md" target="_blank">
        Edite esta página no Github!
      </a>
    </div>
</div>

      
  </div>
  <script src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
  <script src="js/smooth-scroll.min.js"></script>
  <script src="js/common.js"></script>
  

  <script src="https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
        FastClick.attach(document.body);
    }, false);
  </script>
</body>
</html>
